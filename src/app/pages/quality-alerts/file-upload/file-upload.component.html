<div class="padding">
  <mat-card class="bg-container pb-0 pt-0 mt-0">
    <mat-card-title class="form-title title"
      >Configuraci√≥n de Alertas de Calidad</mat-card-title
    >
  </mat-card>
  <mat-card-content>
    <form [formGroup]="form" (ngSubmit)="onSumbit()">
      <div class="row d-flex flex-column align-items-center pt-4">
        <div class="col-md-6">
          <div
            #titleFile
            class="file-upload-wrapper"
            placeholder="Selecciona el archivo*"
          >
            <input
              (change)="selectFile($event)"
              name="file-upload-field"
              type="file"
              class="file-upload-field"
              value=""
            />
            <mat-error> {{ appMessage.FIELD_REQUIRED }} </mat-error>
          </div>
        </div>
      </div>
      <div class="row pt-5">
        <div class="col-12 subtitle">Vigencia</div>
        <div class="col-3">
          <mat-form-field appearance="fill" class="quality-field">
            <mat-label>Fecha Inicio:</mat-label>
            <input
              formControlName="dummyStartDate"
              (change)="startDateChange($event)"
              required
              matInput
              [matDatepicker]="startDate"
            />
            <mat-error> {{ appMessage.FIELD_REQUIRED }} </mat-error>
            <mat-datepicker-toggle
              matSuffix
              [for]="startDate"
              
            ></mat-datepicker-toggle>
            <mat-datepicker #startDate></mat-datepicker>
          </mat-form-field>
        </div>
        <div class="col-3">
          <mat-form-field class="quality-field" appearance="fill">
            <mat-label>Hora Inicio</mat-label>
            <input
              (change)="setStartTime($event)"
              type="time"
              formControlName="dummyStartTime"
              matInput
              placeholder="00:00:00"
            />
            <mat-error> {{ appMessage.FIELD_REQUIRED }} </mat-error>
          </mat-form-field>
        </div>
        <div class="col-3">
          <mat-form-field appearance="fill" class="quality-field">
            <mat-label>Fecha Fin:</mat-label>
            <input
              formControlName="dummyEndDate"              
              required
              matInput
              [matDatepicker]="endDate"
            />
            <mat-error> {{ appMessage.FIELD_REQUIRED }} </mat-error>
            <mat-datepicker-toggle
              matSuffix
              [for]="endDate"
            ></mat-datepicker-toggle>
            <mat-datepicker #endDate></mat-datepicker>
          </mat-form-field>
        </div>
        <div class="col-3">
          <mat-form-field class="quality-field" appearance="fill">
            <mat-label>Hora Fin</mat-label>
            <input
              (change)="setEndTime($event)"
              type="time"
              formControlName="dummyEndTime"
              matInput
              placeholder="00:00:00"
            />
            <mat-error> {{ appMessage.FIELD_REQUIRED }} </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div class="row pt-5">
        <div class="col-4">
          <mat-form-field class="w-100" appearance="standard">
            <mat-label>Planta</mat-label>
            <mat-select
              formControlName="factoryId"
              (selectionChange)="onFactoryChange($event)"
              required
            >
              <mat-option
                *ngFor="let item of factoryDataSource"
                [value]="item.id"
              >
                {{ item?.name }}
              </mat-option>
            </mat-select>
            <mat-error> {{ appMessage.FIELD_REQUIRED }} </mat-error>
          </mat-form-field>
        </div>
        <div class="col-4">
          <mat-form-field class="w-100" appearance="standard">
            <mat-label>Nave</mat-label>
            <mat-select [disabled]="!factorySelected" formControlName="warehouseId" required>
              <mat-option
                *ngFor="let item of warehouseDataSource"
                [value]="item.id"
              >
                {{ item?.name }}
              </mat-option>
            </mat-select>
            <mat-error> {{ appMessage.FIELD_REQUIRED }} </mat-error>
          </mat-form-field>
        </div>
        <div class="col-4">
          <mat-form-field class="w-100" appearance="standard">
            <mat-label>Tipo de Alerta</mat-label>
            <mat-select formControlName="alertTypeId" (onChange)="printData()" required>
              <mat-option
                *ngFor="let item of alertsDataSorce"
                [value]="item.id"
              >
                {{ item?.name }}
              </mat-option>
            </mat-select>
            <mat-error> {{ appMessage.FIELD_REQUIRED }} </mat-error>
          </mat-form-field>
        </div>
        <div class="col-12">
          <div class="my-3 text-center">
            <button
              type="submit"
              color="primary"
              mat-raised-button
              [disabled]="form.invalid"
            >
              <mat-icon>save</mat-icon>
              <span> GUARDAR</span>
            </button>
          </div>
        </div>
        <div class="col-12">
          <span class="form-subtitle"
            >*Datos obligatorios para el registro.</span
          >
        </div>
      </div>
    </form>
  </mat-card-content>
</div>
